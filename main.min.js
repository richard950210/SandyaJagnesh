const event_id=$("#event_id").val();var limit=$("#limit").val(),language=$("#language").val();function reserveItem(t,e,a){$("#reserve-item-id").val(t),$("#reserve-item-picture").attr("src",e),$("#reserve-item-name").html(a),$("#wishlist-items").addClass("hidden"),$("#wishlist-form").removeClass("hidden"),$("#wishlistModal").removeClass("active"),setTimeout((()=>{$("#wishlistModal").addClass("active")}),10)}function show_wishlist_items(){$("#wishlist-items").removeClass("hidden"),$("#wishlist-form").addClass("hidden")}function wishlist_success(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"success",title:"en"===language?"The item has successfully reserved by you!":"Item ini berjaya ditempah oleh anda!"})}function rsvp_change(t){const e=document.getElementById("rsvp_hidden");"Tidak Hadir"==t.value?e.style.display="none":e.style.display="block"}function rsvp_adult(t){var e=limit-t.value,a=$("#child_limit").val();$("#child_limit").empty();for(var s=0;s<=e;s++)$("#child_limit").append("<option value='"+s+"'"+(a==s?"selected":"")+">"+s+"</option>")}function rsvp_child(t){var e=limit-t.value,a=$("#adult_limit").val();$("#adult_limit").empty();for(var s=1;s<=e;s++)$("#adult_limit").append("<option value='"+s+"'"+(a==s?"selected":"")+">"+s+"</option>")}function rsvp_success(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"success",title:"en"===language?"Attendance status successfully sent!":"Status kehadiran berjaya dihantar"}),show_rsvp_btn()}function rsvp_double(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"warning",title:"en"===language?"Your information has been filled!":"Maklumat anda telah diisi!"})}function rsvp_max(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"warning",title:"en"===language?"The number of guests has reached the maximum limit!":"Jumlah tetamu telah mencapai had maksimum!"})}function rsvp_end(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"error",title:"en"===language?"RSVP ended!":"RSVP telah tamat!"})}function show_rsvp_btn(){$("#rsvp-button").removeClass("hidden"),$("#rsvp-form").addClass("hidden")}function guestbook_success(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"success",title:"en"===language?"Your wish has been successfully sent!":"Ucapan anda berjaya dihantar!"})}function load_guestbook(t){$.ajax({url:"/guestbook/"+t,type:"get",datatype:"html"}).done((function(t){$("#wishes").html(""),$("#wishes").append(t),$(document).ready((function(){$(".guestbook").slick({arrows:!1,dots:!0,infinite:!1,speed:300,adaptiveHeight:!0})}))})).fail((function(t,e,a){alert("No response from server")}))}$("#cancel-reserve").click((function(){show_wishlist_items(),$("#wishlistModal").removeClass("active"),setTimeout((()=>{$("#wishlistModal").addClass("active")}),10)})),$((function(){$("#wishlist_form").on("submit",(function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,success:function(t){t.status&&($("#wishlist_form")[0].reset(),wishlist_success(),$("#wishlist").click(),closeModal(),$(`#item_${t.id}`).html('<button class="rsvp-btn w-full ml-1" disabled><i class="fas fa-check nav__icon"></i><span> '+("en"===language?"Reserved":"Telah Ditempah")+"</span></button>"))}})}))})),$((function(){$("#rsvp_form").on("submit",(function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,success:function(t){1===t.status?($("#rsvp_form")[0].reset(),rsvp_success(),$("#rsvp").click()):2===t.status?rsvp_end():3===t.status?rsvp_double():rsvp_max()}})}))})),$((function(){$("#guestbook_form").on("submit",(function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:new FormData(this),processData:!1,dataType:"json",contentType:!1,success:function(t){t.status&&($("#guestbook_form")[0].reset(),guestbook_success(),$("#book").click(),load_guestbook(event_id),closeModal())}})}))})),$("#rsvp-btn-1, #rsvp-btn-2").click((function(){$("#rsvp-button").addClass("hidden"),$("#rsvp-form").removeClass("hidden"),"rsvp-btn-2"===this.id?($("#rsvp_hidden").addClass("hidden"),$("input[name=status]").val("Tidak Hadir")):($("#rsvp_hidden").removeClass("hidden"),$("input[name=status]").val("Hadir")),$("#rsvpModal").removeClass("active"),setTimeout((()=>{$("#rsvpModal").addClass("active")}),10)})),$("#cancel-rsvp").click((function(){show_rsvp_btn(),$("#rsvpModal").removeClass("active"),setTimeout((()=>{$("#rsvpModal").addClass("active")}),10)})),load_guestbook(event_id);var startDiv=document.getElementsByClassName("start"),mainDiv=document.getElementsByClassName("main-div"),startOverlayDiv=document.getElementsByClassName("start-overlay"),tutorialDiv=document.getElementsByClassName("tutorial-overlay"),rsvpModal=document.getElementById("rsvpModal"),contactModal=document.getElementById("contactModal"),locationModal=document.getElementById("locationModal"),bookModal=document.getElementById("bookModal"),calendarModal=document.getElementById("calendarModal"),moneygiftModal=document.getElementById("moneygiftModal"),wishlistModal=document.getElementById("wishlistModal"),rsvpBtn=document.getElementById("rsvp"),contactBtn=document.getElementById("contact"),locationBtn=document.getElementById("location"),bookBtn=document.getElementById("book"),calendarBtn=document.getElementById("calendar"),moneygiftBtn=document.getElementById("moneygift"),wishlistBtn=document.getElementById("wishlist"),closeBtn=document.getElementById("close-btn");const btn=[rsvpBtn,contactBtn,locationBtn,bookBtn,calendarBtn,moneygiftBtn,wishlistBtn],modal=[rsvpModal,contactModal,locationModal,bookModal,calendarModal,moneygiftModal,wishlistModal];var featureMain=document.getElementsByClassName("feature-main"),overlay=document.getElementsByClassName("overlay");if(document.getElementById("rsvp").onclick=modalBtn,document.getElementById("contact").onclick=modalBtn,document.getElementById("location").onclick=modalBtn,document.getElementById("book").onclick=modalBtn,document.getElementById("calendar").onclick=modalBtn,document.getElementById("moneygift").onclick=modalBtn,document.getElementById("wishlist").onclick=modalBtn,document.getElementById("start-btn")){function startBtn(t){startOverlayDiv[0].classList.add("animated"),startOverlayDiv[0].classList.add("slideOutUp"),setTimeout((()=>{startDiv[0].remove(),mainDiv[0].classList.remove("hidden"),$(".gallery-content").slick("setPosition"),$(".guestbook").slick("setPosition"),$("#particles-js").length&&initParticles($("#particle_color").val()),document.getElementById("audio")&&document.getElementById("audio").play()}),750),1!=localStorage.getItem("firstTime")&&(setTimeout((()=>{tutorialDiv[0].classList.remove("hidden"),tutorialDiv[0].classList.add("animated"),tutorialDiv[0].classList.add("fadeIn")}),2500),localStorage.setItem("firstTime",1))}document.getElementById("start-btn").onclick=startBtn}else setTimeout((()=>{tutorialDiv[0].classList.remove("hidden"),tutorialDiv[0].classList.add("animated"),tutorialDiv[0].classList.add("fadeIn")}),1500);if(document.getElementById("tutorial-btn")){function tutorialBtn(t){tutorialDiv[0].classList.add("animated"),tutorialDiv[0].classList.add("fadeOut"),setTimeout((()=>{tutorialDiv[0].remove()}),1e3)}document.getElementById("tutorial-btn").onclick=tutorialBtn}function modalBtn(t){var e=this.id;overlay[0].classList.add("active"),overlay[0].classList.remove("preload"),featureMain[0].classList.add("active"),$("body").addClass("overflow-hidden"),btn.forEach((function(t){t.id==e?t.classList.contains("active-link")?(overlay[0].classList.remove("active"),t.classList.remove("active-link"),$("body").removeClass("overflow-hidden")):(overlay[0].classList.add("active"),t.classList.add("active-link")):t.classList.remove("active-link"),show_rsvp_btn(),show_wishlist_items()})),modal.forEach((function(t){t.id.includes(e)?t.classList.contains("active")?t.classList.remove("active"):(t.classList.add("active"),$(".guestbook").slick("setPosition")):t.classList.remove("active")}))}function closeModal(){btn.forEach((function(t){t.classList.remove("active-link")})),modal.forEach((function(t){t.classList.remove("active")})),contactModal.classList.remove("active"),overlay[0].classList.remove("active"),featureMain[0].classList.remove("active"),$("body").removeClass("overflow-hidden")}function copyAccount(t){navigator.clipboard.writeText(t),copy_success()}function copyDelivery(t){navigator.clipboard.writeText($(`#${t}`).val().replace(/<(.|\n)*?>/g,"")),copy_success()}function copy_success(){Swal.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3}).fire({icon:"success",title:"Copied to clipboard"})}function initParticles(t){particlesJS("particles-js",{particles:{number:{value:35,density:{enable:!0,value_area:800}},color:{value:`${t}`},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!0,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:10,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!1,distance:500,color:"#ffffff",opacity:.4,width:2},move:{enable:!0,speed:2,direction:"bottom-left",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"bubble"},onclick:{enable:!1,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:.5}},bubble:{distance:400,size:4,duration:.3,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1})}overlay[0].onclick=function(){closeModal()},closeBtn.onclick=function(){closeModal()};